<tool id="srst2" name="SRST2" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
    <description>Short Read Sequence Typing for Bacterial Pathogens</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="edam_ontology"/>
    <expand macro="requirements"/>
    <version_command>srst2 --version</version_command>
    <command detect_errors="exit_code"><![CDATA[
#if $input.selector == "single"
    --input_se '$input.input_se'
#else if $input.selector == "paired"
    --input_pe '$input.input_pe'
    $input.merge_paired
#if $input.paired_ending.not_MiSeq.selector == "no"
    --forward _read1
    --reverse _read2
#end if
#end if
    ]]></command>
    <inputs>
        <conditional name="input">
            <param name="selector" type="select" label="Reads files type for anaylsis">
                <option value="single">Single-end</option>
                <option value="paired">Paired-end</option>
            </param>
            <when value="single">
                <param argument="--input_se" type="data" multiple="true" format="fasta,fastq,fastqsanger" label="Single end read file(s) for analysing (may be gzipped)"/>
            </when>
            <when value="paired">
                <param argument="--input_pe" type="data" multiple="true" format="fasta,fastq,fastqsanger" label="Paired end read files for analysing (may be gzipped)"/>
                <param argument="--merge_paired" type="boolean" truevalue="--merge_paired" falsevalue="" checked="false" label="Do you want to merge the data to get a single result" help="Important only if all the input read sets belong to a single sample"/> 
                <conditional name="paired_ending">
                    <param name="selector" type="select" label="Are the paired input Illumina MiSeq reads files">
                        <option value="yes">Yes</option>
                        <option value="no">no</option>
                    </param>
                    <when value="yes">
                    </when>
                    <when value="no">
                        <conditional name="not_MiSeq">
                            <param name="selector" type="select" label="Are the paired input names end with _1 for forward reads and _2 for reverse reads?">
                                <option value="yes">Yes</option>
                                <option value="no">no</option>
                            </param>
                            <when value="yes">
                            </when>
                            <when value="no">
                            </when>
                        </conditional>
                    </when>
                </conditional>
            </when>
        </conditional>
    </inputs>
    <outputs>    

    </outputs>
    <tests>
  
    </tests>
    <help><![CDATA[
@HELP_HEADER@
SRST2
=====
Short Read Sequence Typing for Bacterial Pathogens

This program is designed to take Illumina sequence data, a MLST database and/or a database of gene sequences (e.g. resistance genes, virulence genes, etc) and report the presence of STs and/or reference genes

Read more about the tool: https://holtlab.net/2014/12/27/behind-the-paper-srst2-for-short-read-sequence-typing-of-bacterial-pathogens/

Input
=====


Output
======

    ]]></help> 
    <citations>
        <citation type="doi">10.1186/s13073-014-0090-6</citation>
    </citations>
 </tool>