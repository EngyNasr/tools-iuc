diff --git a/tools/metaphlan/customize_metaphlan_database.xml b/tools/metaphlan/customize_metaphlan_database.xml
index 24fb7cc28..38b0650d5 100644
--- a/tools/metaphlan/customize_metaphlan_database.xml
+++ b/tools/metaphlan/customize_metaphlan_database.xml
@@ -191,10 +191,14 @@ seqtk subseq
                 </repeat>
             </conditional>
             <output name="out_fasta" file="test-db.fasta" compare="sim_size">
+              <assert_contents>   
                 <has_text text="13076__A0A2I1PE66__CYJ72_10760" />
+              </assert_contents>
             </output>
             <output name="out_json" file="test-db.json" compare="sim_size">
+              <assert_contents>
                 <has_text text="13076__A0A2I1PE66__CYJ72_10760" />
+              </assert_contents>
             </output>
         </test>
         <test expect_num_outputs="2">
@@ -205,10 +209,14 @@ seqtk subseq
                 <param name="markers" value="marker.txt"/>
             </conditional>
             <output name="out_fasta" file="test-db-without-one-marker.fasta" compare="sim_size">
+              <assert_contents>
                 <not_has_text text="13076__A0A2I1PE66__CYJ72_10760" />
+              </assert_contents>
             </output>
             <output name="out_json" file="test-db-without-one-marker.json" compare="sim_size">
+              <assert_contents>
                 <not_has_text text="13076__A0A2I1PE66__CYJ72_10760" />
+              </assert_contents>
             </output>
         </test>
         <test expect_num_outputs="2">
@@ -219,10 +227,14 @@ seqtk subseq
                 <param name="markers" value="marker.txt"/>
             </conditional>
             <output name="out_fasta" file="test-db-with-one-marker.fasta" compare="sim_size">
+              <assert_contents>
                 <has_text text="13076__A0A2I1PE66__CYJ72_10760" />
+              </assert_contents>
             </output>
             <output name="out_json" file="test-db-with-one-marker.json" compare="sim_size">
+              <assert_contents>
                 <has_text text="13076__A0A2I1PE66__CYJ72_10760" />
+              </assert_contents> 
             </output>
         </test>
     </tests>
diff --git a/tools/metaphlan/macros.xml b/tools/metaphlan/macros.xml
index 4d99bbbdc..fb2464c25 100644
--- a/tools/metaphlan/macros.xml
+++ b/tools/metaphlan/macros.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0"?>
 <macros>
-    <token name="@TOOL_VERSION@">3.0.8</token>
+    <token name="@TOOL_VERSION@">3.0.9</token>
     <token name="@VERSION_SUFFIX@">0</token>
     <token name="@PROFILE@">20.01</token>
     <xml name="edam_ontology">
@@ -21,7 +21,7 @@
     </xml>
     <xml name="citations">
         <citations>
-            <citation type="doi">1101/2020.11.19.388223</citation>
+            <citation type="doi">10.7554/eLife.65088</citation>
         </citations>
     </xml>
 </macros>
diff --git a/tools/metaphlan/metaphlan.xml b/tools/metaphlan/metaphlan.xml
index 710fa4595..85d720d52 100644
--- a/tools/metaphlan/metaphlan.xml
+++ b/tools/metaphlan/metaphlan.xml
@@ -195,8 +195,7 @@ python '$__tool_directory__/formatoutput.py'
     --metaphlan_output '$output_file'
     --outdir 'split_levels'
     $out.legacy_output
-&&
-ls split_levels
+
 #end if
 
 #if $out.krona_output
@@ -211,7 +210,7 @@ python '$__tool_directory__/formatoutput.py'
         <section name="inputs" title="Inputs" expanded="true">
             <conditional name="in">
                 <param name="selector" type="select" label="Input(s)">
-                    <option value="raw" selected="true">Fasta/FastQ file(s) with metagenomic reads</option>
+                    <option value="raw" selected="true">Fasta/FastQ file(s) with microbiota reads</option>
                     <option value="sam">Externally BowTie2-mapped SAM file</option>
                     <option value="bowtie2out">Intermediary mapping file of the metagenome generated by a previous MetaPhlAn run</option>
                 </param>
